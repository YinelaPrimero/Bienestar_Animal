graph TD
    Start([Inicio: Rescate de animal]) --> InputBasic[Operador captura datos básicos del animal]
    InputBasic --> InputEspecie[Operador registra especie y raza]
    InputEspecie --> InputCondicion[Operador evalúa condición física inicial]
    InputCondicion --> InputFoto{¿Incluye fotografía?}

    InputFoto -->|Sí| UploadFoto[Subir fotografía del animal]
    InputFoto -->|No| InputUbicacion[Registrar ubicación de rescate]
    UploadFoto --> InputUbicacion

    InputUbicacion --> InputResponsable[Asignar responsable de rescate]
    InputResponsable --> GenerateCode[Sistema genera código único]
    GenerateCode --> CreateHistory[Sistema crea historial clínico inicial]

    CreateHistory --> AssignStatus[Sistema asigna estado: En Rescate]
    AssignStatus --> CheckVet{¿Requiere atención veterinaria urgente?}

    CheckVet -->|Sí| FlagUrgent[Marcar como prioridad urgente]
    CheckVet -->|No| SaveDB
    FlagUrgent --> NotifyVet[Notificar a veterinario de turno]
    NotifyVet --> SaveDB

    SaveDB[(Guardar en Base de Datos)]
    SaveDB --> AuditLog[Enviar evento a sci-audit]
    AuditLog --> Confirm[Mostrar confirmación de registro]
    Confirm --> End([Fin: Animal registrado])

    style Start fill:#90EE90
    style End fill:#90EE90
    style CheckVet fill:#FFD700
    style InputFoto fill:#FFD700
    style FlagUrgent fill:#FFA500
    style NotifyVet fill:#FFA500
    style SaveDB fill:#87CEEB
